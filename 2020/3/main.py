#!/usr/bin/env python3

def main(mp):
    # Part 1
    print(sum(row[i * 3 % len(row)] == '#' for i, row in enumerate(mp)))
    # Part 2
    prod = 1
    for r, c in ((1, 1), (3, 1), (5, 1), (7, 1), (1, 2)):
        prod *= sum(i % c == 0 and row[i * r % len(row)] == '#' for i, row in enumerate(mp))
    print(prod)
    

main((
    "..#...##...###.........#..#..#.",
    "#.###........#..##.#......#...#",
    "#.#.###..#.#..#.#............#.",
    ".##............#......#...#.#..",
    "..#..#.....##..##..##..........",
    "...#...........###.#.##........",
    "....#.#...#..#..##............#",
    "....#....##...##..##........#..",
    ".#..#..#....#...#..##.....##...",
    ".#.###..#......####........##..",
    "..#...###....#......#.....##.##",
    "..#...#.......#......#..##....#",
    "#...##....#.#..#.......#....#..",
    ".#......#..#...........#....##.",
    ".##.#......#.#.#.....##........",
    ".....#.................#.#..#.#",
    "....#..#........##......#..#.#.",
    "..#...#..##.......#..##...#..#.",
    "..#.......#.............#.#....",
    ".#.................#.........#.",
    "..#..#.#.#.#............##.#..#",
    ".#.#.##.#.....#.....#..#......#",
    "..#.#..#.#..........##........#",
    ".........#...#.....#.#...#####.",
    "##..#.....##.##........#...##..",
    ".#.....#....##.#..#....##...##.",
    ".##.....#.#....#.#.....#......#",
    ".....#..#.##.....#.#....#.#..##",
    "#......##..##....##...###..#...",
    ".......#..#...........#......#.",
    "#...#......#........#..#.......",
    "##..#.....##.....#...#...#....#",
    ".###..##..#.#........#..#.#....",
    "#.#...#...#......##........#.#.",
    "......#....#.#........##...#..#",
    ".#.....#..#.#.....#......##....",
    ".....#.....#.#.#....###.....#..",
    "#.......##.#......#.#.#....###.",
    ".......#..#..#...#.#.##........",
    ".#......##..#.........###..#...",
    "....#..##.......##.###...###...",
    ".##............#..#.##.....#.##",
    "..##.#.......##....#.......##.#",
    "#..###............#.#...#...#.#",
    "...##.#.#.#..#.##........#.#...",
    ".#.....#...##.#..###..##.##...#",
    "..............#.#.#.........#..",
    ".....#...........#.#...#....#..",
    ".....#...##.##.#....#.###..#...",
    "#..###.........#......#.#.#....",
    ".....#..#...##...###.#....#....",
    "#..........#.#.#....#..#......#",
    "###...................#......#.",
    "........####......#.#..........",
    ".......#.....#...#.......#...#.",
    ".....#.....................#...",
    "...#.#...#...#...........#.....",
    "..#.........#...#....###..#....",
    ".....#.#..##......##........##.",
    "..#.............#............#.",
    ".#....##.......#..#............",
    ".#............#.#..#.##....#...",
    ".####...##.#....#.....#...#....",
    "##..#....#.#.#...........#..#.#",
    "...#..#...........#...#..#....#",
    ".....##.....#..#...#.........#.",
    "...##........#....##........#..",
    ".##.#...#...#..#.....#....##.#.",
    "#.#...#.#.#.#.#..#....#....#...",
    "#..#.#...#..#........#....#.#..",
    "....#.#.....#......##...#....#.",
    ".###.##...#....##.#...###..#..#",
    "###..#...##..#......#.........#",
    "..#.#......##.......#.....#...#",
    "..#...#........#.........#.#...",
    "#....#..#.........###.#......##",
    "...#..#....#...#.......##.#.#..",
    "....#.......#....###...##.#....",
    "..#.....#.#.....###..#####....#",
    "##......#....#.....##..#..#...#",
    "#...........#..#..#....#....#..",
    ".#...#.##.#.#.#....#......#..#.",
    ".......#.#....#....#...#.#..#..",
    "..#.#..#.##..##...##..#..#.....",
    "...##.##.................#.#...",
    ".....#...#......##.#....#.....#",
    "......#..##.#..#.#.........#...",
    ".............##.#......#.......",
    "..#.#.....#...#.#.....#..#.....",
    ".........#..#.#......#..#......",
    "#..#.#.##..........#.##......##",
    "......#.......#.....#..#.#...#.",
    ".#....#....#.#.....#.......#...",
    "#..#..##..................#....",
    "............#...........##.#...",
    "####...#..##.#....#.##..#......",
    "#...#...#.....#.#...#.#........",
    ".......##.........#.....#.....#",
    ".....#...........##......#.####",
    ".##....#.#.##......###.#.##....",
    "........#.####.......#.#...#...",
    ".#.#...##.#.#.#.........##.....",
    "....#............###.##....#...",
    "...##........##.#...#....#..###",
    "..#.#.........#....##.#........",
    "..#..##..#...##..#.##...#.....#",
    ".#......#..#..#.........#......",
    "..#........##.#......#.....#...",
    ".##.......#....#.#......#......",
    "#........#....#.####...#.#.....",
    "##......#.............#....###.",
    "..#....####.#.#.#.#...##......#",
    "#.#.#.....#...#.......#...##...",
    "........#...#....#..#......#.#.",
    "#..#...#.#.##.....#.#....#....#",
    "#...#....#......#.........##.##",
    "..##.#..##............#........",
    "#.........####.........#.......",
    "#.##.........#..##....#.#.#.#..",
    ".###......##..#.#.....#.#...##.",
    "...#.........#.#...##.##....#..",
    "#..#......#....##..#.#...#...##",
    "...#.......#.#.#.....#..##...#.",
    "....................###........",
    "#...........###......#.#...##.#",
    ".................#.#...###....#",
    "...#..###..#.##...#..#....##...",
    "###..#..#.#...#.....#.#.......#",
    ".........#..#.#.....#.........#",
    ".##..#.........#.#.....##......",
    ".....#..........#.#.##....#....",
    "........#.##.....#...##...#....",
    "#.#.#...#......##....#.###.....",
    ".#.##.....##.....#....#.##.#.##",
    ".#...#.....##.#.##....#.....#.#",
    "...#.....#........#............",
    "##...####..#....#..##...#......",
    "#.......#...#.#...#........#..#",
    "......#.....#....#..#..#.#.....",
    "..............##.....#.##....##",
    ".#..##.........###..#..........",
    "......#......#............#..#.",
    "#.....###...###..........#.....",
    "...###...........#....##..#....",
    ".....................#...#.##..",
    "###....#.#....#...#....#.#..##.",
    "..#.............#.#....#..#.#..",
    ".......#..###....#...#...#...#.",
    ".##..#....##..............##...",
    "...#...#..#..#.##.#....##...#..",
    "#..#....##......#....###..####.",
    ".##...#.#....#..#..#....#....#.",
    ".#.##..#..#.........#.#......##",
    "#..#.................#.....#...",
    "..#............#........#...#..",
    "##.##.......#.#....#..#....##.#",
    "..##...#.#.....#......#........",
    "......#.##.........##...#......",
    "......##.#......#.##....##.#..#",
    ".#.#......####.#.#.#.#..#......",
    "..#.#....#...###....#.#...###..",
    ".#.#...#....##..###.#..#.......",
    "..#.....##..#............#..#.#",
    ".#...#....#.....#....#..#.#.#..",
    "..#....#..#......##...##......#",
    "....#.......#.##.#.........#..#",
    "#............#...##.....#..##..",
    "......#..#..........#.#..#.....",
    "...........#.#..#...##.#...#..#",
    ".........###..#......##.###.#..",
    ".....#....#......#...#....##...",
    "..#.......#..#.#.#......#......",
    ".#....#.....#.#.#.##...#....##.",
    "....#.##.##.......#..#.....#...",
    ".#.....#......#.......#..#.....",
    "....###.....##.....##..#.#...#.",
    "#.......#.#....#.#.#....#......",
    "#...#..#.#......#...##.#.......",
    "....##.##....#..#.......#..#.#.",
    ".#.##.#.#..#.....#.#.......##..",
    "..#..#..#..#.###...............",
    "#.#......##....##.#.#.....#.#..",
    "..##...#.........#.#..#.##..#..",
    ".........####...#.....##.#.....",
    "..#...................#.###....",
    "..#.....#..#....#..#...........",
    ".....###.#.........#.#.........",
    "#..#..#........#..#......#..#..",
    "###..##...#.......#........#.#.",
    ".#.#.#.###.#............##.....",
    "#..............#......#....#.##",
    ".#...#..###...###.#..#.#.......",
    ".###....##.#.......#.#.....###.",
    ".##.....#.#....................",
    "#..#.....#.....#...#.....#..##.",
    "#.#....##..#......##..#...##..#",
    "...........#....#..#.##.##....#",
    "......#.......##....#.#....#.#.",
    "###..#.#..........#.......#.#..",
    "..#.#..##....##............##..",
    "..#.....#..#....###............",
    ".#...#...##...#..#..#..#.#....#",
    "...#....#........#.............",
    "#.#......#.#.....##..........#.",
    "....#..#...............#...##..",
    "........#..#....#..#..#..##....",
    "....#......#.#.#...#.......#.##",
    ".#.....#.#.#........###....#...",
    ".#..#.......#...........#...#..",
    "#.#.#####..#......#...#.#.###..",
    "...##...#.#.....#..#...#...#...",
    "..#....#.....#..#....#.#.....#.",
    "....#.......#.....#........###.",
    "..##..........#...###.......#..",
    "#.#.##..#........##...#.#......",
    "....##...#......#..........#.#.",
    "#.......#..#.##.............#..",
    "......#..........#...#....#...#",
    "#.#.....#.##.#.#.............##",
    "#...#.........##.##......#.##..",
    ".........##.....#....#...##..#.",
    "#.#...##.#...#.....##...#..#..#",
    "......##.#.....#.#.....#.##....",
    "....#.............#...#.......#",
    ".#......##...#.#...#.##........",
    "...#..#..#...........#..#..#.#.",
    ".#...#...........#.#.##....#...",
    "..#...#...#.#..#....#..#..#....",
    "..###..##..#..#.........#.#..#.",
    "....#.##.#...#.......#...#.....",
    ".#.#.................#.......#.",
    ".#..#.....#.##...#.#.....#...#.",
    ".#.......#...#....#.......#....",
    "###....##....#..#...#.#..##....",
    ".........#.#.#.#...###.......##",
    "....##.......#......#......##..",
    "......##.###.#..#...#.#.#.#....",
    ".#.###.#.#......#.#.......##...",
    ".#.....##..#.#.....#...#.##....",
    ".#..##.#.....#........###...#.#",
    ".......#.#...........#........#",
    "..........#...##..##.......#.#.",
    "...#..#..#...#....#.#......#.#.",
    "....#...#..#....#....#.#.##....",
    "...#.#...##...#...##..#........",
    "..#........#...##.#...##.#.#.#.",
    "...##.#..#.......###.#.#.#.....",
    "..##......#.#.#.........###.#..",
    ".......#.#...##...#.#.......#.#",
    ".#....##..#..#....#..#...#.....",
    ".#....#.#.......#..#..##.#....#",
    "#.#..##..#.#............#....#.",
    "##..#....#.##.#....#...#..##...",
    ".###.#.#..#...##........###.##.",
    "...........#..#...#..#.#..###..",
    ".#.#.#...#....#...##.##........",
    ".....###.........#......#####..",
    "#.#.#.....#....#..#...#.#.#.#..",
    "..##.....#..#..#.#.#...#....#.#",
    "......#.##..##..#.#.#.......#..",
    "...#.#..###.........#........#.",
    "......#.##..####...#...#..#...#",
    "#.......#.........#....#....###",
    "#......#...#........#.##....###",
    ".#.#..............#...#...###.#",
    ".#....####...#..##.###.....#...",
    ".......#......#..#...#..##.#...",
    "...........#.......#...........",
    "..............#...#.#.#.#...##.",
    ".###.....##.#.....#..........#.",
    "##.##......#....##..#.....###.#",
    "#.......#...##...#....##...#...",
    "##.#.##...#....#....#....#.....",
    ".....####...........#.#......#.",
    "......#...#....#..#......#.....",
    "...#...##..........#.......##.#",
    ".#....#..........#.####........",
    "...##...#..#...##........##..#.",
    ".........##....#...##..#.##.#..",
    "##.#.....#.......#.....#.......",
    "#..#....#.##.#........#........",
    "#.#...#...##........#.#.....###",
    "....#...................#.#.#..",
    ".......#..#.#...#....#.##.#....",
    "....##...###.#.#.##...#...#....",
    ".#....#....#...##.#......#...#.",
    "............##..#.#.#........#.",
    "...#....#.....#......#........#",
    "...#.#.....#.##.....#....#...#.",
    ".....#..##.......#.##.......#.#",
    "........##................#....",
    "....#..###...##.#..#...#......#",
    ".#.#.......#.......#....##.#..#",
    "..#........#............#......",
    "..##.......#..#..#....#....#..#",
    "#...###.......#.##...#.........",
    ".....#...#...#..##..#....#..#..",
    ".##.#..#...##.........###.#....",
    "..#.#..#...#...####.#...#.#.#.#",
    "#....#..###.....#......#.##..##",
    "##......#...##...###......#.##.",
    "...........#.....##...#...#...#",
    "..#..#.#.....#..#.....###...#..",
    ".............#..........###...#",
    "....##............#....###.##.#",
    "..##.#..##.....#.#.........#.#.",
    "....#.#...........####.........",
    ".##.###.##.#.#......#.##.#.#...",
    ".....##.........#..#.......#...",
    "...........#.........#....###..",
    "...#.#..#..........#.....#..#..",
    ".#..###.......##........#.#....",
    ".#...###.....#..#.#..#...#.##..",
    "##...###.#.#....#......#...#..#",
    "....#.......#..#..##..#.#......",
    "#.#......#.##..#......#..#....#",
    "....#..#..#.....#.#......#..#..",
    "..#...###......##.............#",
    "..#....####...##.#...##.#......",
    ".....#.......###...............",
    ".......#...#.#.......#.#.##.###",
    ".#.#...#.....#...##.........#..",
    "..#..........#..#.........##...",
))
